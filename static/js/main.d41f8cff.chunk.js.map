{"version":3,"sources":["config/index.js","data/index.js","api/index.js","Charts.jsx","App.jsx","index.js"],"names":["config","ARRAYS","ITEMS_PER_CHAR","ITEM_MAX_Y","COLORS","dataStyle","fill","d","x","DEBOUNCED_WAIT_MS","generateData","chars","count","data","i","push","j","y","Math","floor","random","debounce","func","wait","timeout","immediate","arguments","length","undefined","_len","args","Array","_key","callNow","clearTimeout","setTimeout","apply","Charts","state","isChartDisabled","handleClick","index","_this","setState","prevState","map","value","key","_this2","this","props","react_default","a","createElement","Container_default","Row_default","Col_default","md","className","onClick","victory_chart","victory_label","text","textAnchor","verticalAnchor","dy","style","fontSize","victory_scatter","alignment","victory_bar","victory_line","stroke","interpolation","victory_stack","item","victory_area","colorScale","PureComponent","App","SAD","debounceHandleChange","flushSync","handleSADClick","e","target","handleChange","firstNode","unstable_getFirstCallbackNode","unstable_cancelCallback","unstable_scheduleCallback","console","log","getData","xs","Button_default","variant","size","FormControl_default","type","placeholder","onChange","src_Charts_0","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.d41f8cff.chunk.js","sourcesContent":["const config = {\n  ARRAYS: 5,\n  ITEMS_PER_CHAR: 25,\n  ITEM_MAX_Y: 250,\n  COLORS: ['#fff489', '#fa57c1', '#b166cc', '#7572ff', '#69a6f9'],\n  dataStyle: {\n    fill: (d) => config.COLORS[d.x % config.ARRAYS],\n  },\n  DEBOUNCED_WAIT_MS: 750,\n};\n\nexport default config;\n","import config from '../config';\n\nconst generateData = chars => {\n  let count = chars * config.ITEMS_PER_CHAR || config.ITEMS_PER_CHAR;\n  let data = [];\n\n  for (let i = 0; i < config.ARRAYS; i++) {\n    data.push([]);\n    for (let j = 0; j < count; j++) {\n      data[i].push(\n        {\n          x: j + 1,\n          y: Math.floor(Math.random() * config.ITEM_MAX_Y),\n        });\n    }\n  }\n\n  return data;\n}\n\nexport default generateData;","export const debounce = (func, wait, immediate = false) => {\n  let timeout;\n\n  return (...args) => {\n    const context = this;\n    const callNow = immediate && !timeout;\n\n    clearTimeout(timeout);\n\n    timeout = setTimeout(() => func.apply(context, args), wait);\n\n    if (callNow) {\n      func.apply(context, args);\n    }\n  };\n}\n","import React, { PureComponent } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport {\n  VictoryChart,\n  VictoryLabel,\n  VictoryScatter,\n  VictoryBar,\n  VictoryStack,\n  VictoryLine,\n  VictoryArea,\n} from \"victory\";\n\nimport './Charts.css';\n\nimport config from './config';\n\n\nclass Charts extends PureComponent {\n  state = {\n    isChartDisabled: [false, false, false, false],\n  };\n\n\n  handleClick = index => {\n    this.setState(prevState => {\n      const isChartDisabled = prevState.isChartDisabled.map((value, key) => {\n        if (key === index) {\n          return !value;\n        }\n        return value;\n      });\n      return { isChartDisabled };\n    });\n  }\n\n\n  render() {\n    const { data } = this.props;\n\n    return (\n      <Container>\n        <Row>\n          <Col\n            md={6}\n            className={this.state.isChartDisabled[0] ? 'disable-chart' : ''}\n            onClick={() => this.handleClick(0)}\n          >\n            <VictoryChart>\n              <VictoryLabel\n                text={this.state.isChartDisabled[0] ? 'Click to enable chart rendering' : 'Click to disable chart rendering'}\n                textAnchor=\"start\"\n                verticalAnchor=\"start\"\n                dy={15}\n                style={{ fontSize: '18px' }}\n              />\n              <VictoryScatter\n                style={{ data: config.dataStyle }}\n                alignment=\"start\"\n                data={this.state.isChartDisabled[0] ? [] : data[0]}\n              />\n            </VictoryChart>\n          </Col>\n\n          <Col\n            md={6}\n            className={this.state.isChartDisabled[1] ? 'disable-chart' : ''}\n            onClick={() => this.handleClick(1)}\n          >\n            <VictoryChart>\n              <VictoryLabel\n                text={this.state.isChartDisabled[1] ? 'Click to enable chart rendering' : 'Click to disable chart rendering'}\n                textAnchor=\"start\"\n                verticalAnchor=\"start\"\n                dy={15}\n                style={{ fontSize: '18px' }}\n              />\n              <VictoryBar\n                style={{ data: config.dataStyle }}\n                alignment=\"start\"\n                data={this.state.isChartDisabled[1] ? [] : data[0]}\n              />\n            </VictoryChart>\n          </Col>\n        </Row>\n\n        <Row>\n          <Col\n            md={6}\n            className={this.state.isChartDisabled[2] ? 'disable-chart' : ''}\n            onClick={() => this.handleClick(2)}\n          >\n            <VictoryChart>\n              <VictoryLabel\n                text={this.state.isChartDisabled[2] ? 'Click to enable chart rendering' : 'Click to disable chart rendering'}\n                textAnchor=\"start\"\n                verticalAnchor=\"start\"\n                dy={15}\n                style={{ fontSize: '18px' }}\n              />\n              <VictoryLine\n                style={{\n                  data: { stroke: config.COLORS[1] }\n                }}\n                alignment=\"start\"\n                interpolation=\"natural\"\n                data={this.state.isChartDisabled[2] ? [] : data[0]}\n              />\n            </VictoryChart>\n          </Col>\n\n          <Col\n            md={6}\n            className={this.state.isChartDisabled[3] ? 'disable-chart' : ''}\n            onClick={() => this.handleClick(3)}\n          >\n            <VictoryChart>\n              <VictoryLabel\n                text={this.state.isChartDisabled[3] ? 'Click to enable chart rendering' : 'Click to disable chart rendering'}\n                textAnchor=\"start\"\n                verticalAnchor=\"start\"\n                dy={15}\n                style={{ fontSize: '18px' }}\n              />\n              <VictoryStack>\n                {(this.state.isChartDisabled[3] ? [] : data).map((item, i) => (\n                  <VictoryArea\n                    key={i}\n                    colorScale={config.COLORS}\n                    alignment=\"start\"\n                    data={item}\n                  />\n                ))}\n              </VictoryStack>\n            </VictoryChart>\n          </Col>\n        </Row>\n      </Container >\n    );\n  }\n}\n\nexport default Charts;\n","import React, { PureComponent } from 'react';\nimport { flushSync } from 'react-dom';\nimport {\n  unstable_scheduleCallback,\n  unstable_getFirstCallbackNode,\n  unstable_cancelCallback,\n} from 'scheduler';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport FormControl from 'react-bootstrap/FormControl';\nimport Button from 'react-bootstrap/Button';\n\nimport './App.css';\n\nimport config from './config';\nimport getData from './data';\nimport { debounce } from './api';\nimport Charts from './Charts';\n\n\nclass App extends PureComponent {\n  state = {\n    chars: 0,\n    SAD: 'Sync',\n  }\n\n\n  debounceHandleChange = debounce(chars => {\n    if (this.state.SAD === 'Debounced') {\n      flushSync(() => {\n        this.setState({ chars });\n      });\n    }\n  }, config.DEBOUNCED_WAIT_MS);\n\n\n  handleSADClick = (e) => {\n    const SAD = e.target.value;\n\n    this.setState((prevState) => {\n      if (prevState.SAD === SAD) {\n        return null;\n      }\n      return { SAD };\n    });\n  }\n\n\n  handleChange = (e) => {\n    const chars = e.target.value.length;\n\n    switch (this.state.SAD) {\n      case 'Async':\n        const firstNode = unstable_getFirstCallbackNode();\n        if (firstNode) {\n          unstable_cancelCallback(firstNode);\n        }\n        \n        unstable_scheduleCallback(() => {\n          this.setState({ chars });\n        });\n        break;\n      case 'Debounced':\n        this.debounceHandleChange(chars);\n        break;\n      default:\n        flushSync(() => this.setState({ chars }));\n    }\n  }\n\n\n  render() {\n    console.log('render string length:', this.state.chars);\n    const data = getData(this.state.chars);\n\n    return (\n      <div className=\"App\">\n        <Container>\n          <Row>\n            <Col xs={4}>\n              <Button\n                variant={this.state.SAD === 'Sync' ? 'primary' : 'secondary'}\n                onClick={this.handleSADClick}\n                value='Sync'\n                size='lg'\n              >\n                Sync\n              </Button>\n            </Col>\n            <Col xs={4}>\n              <Button\n                variant={this.state.SAD === 'Async' ? 'primary' : 'secondary'}\n                onClick={this.handleSADClick}\n                value='Async'\n                size='lg'\n              >\n                Async\n              </Button>\n            </Col>\n            <Col xs={4}>\n              <Button\n                variant={this.state.SAD === 'Debounced' ? 'primary' : 'secondary'}\n                onClick={this.handleSADClick}\n                value='Debounced'\n                size='lg'\n              >\n                Debounced\n              </Button>\n            </Col>\n          </Row>\n        </Container>\n\n\n        <Container>\n          <Row>\n            <Col xs={12}>\n              <FormControl\n                type=\"text\"\n                placeholder=\"longer input → more components and DOM nodes\"\n                size=\"lg\"\n                onChange={(e) => this.handleChange(e)}\n              />\n            </Col>\n          </Row>\n        </Container>\n\n        <Charts data={data} />\n\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport './index.css';\n\nimport App from './App';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}